<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>FiberOptical_calculate_parameters.js</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<style type="text/css">
<!--
body {color: #000000; background-color: #ffffff; font-family: Monospaced}
pre {color: #000000; background-color: #ffffff; font-family: Monospaced}
table {color: #000000; background-color: #e9e8e2; font-family: Monospaced}
.ST0 {color: #969696; background-color: #e9eff8}
.ST1 {color: #969696; font-family: Monospaced; font-weight: bold}
.ST2 {font-family: Monospaced; font-weight: bold}
.comment-line {color: #969696}
.keyword {color: #0000e6}
.ST3 {color: #9f0d79}
-->
</style>
</head>
<body>
<table width="100%"><tr><td align="center">C:\Users\Dylan N. Sugimoto\Desktop\Lab-3_ELE-12\ELE12Lab3\codigo\FiberOptical_calculate_parameters.js</td></tr></table>
<pre>
  1 <span class="ST0">/*</span> 
  2  <span class="comment-line">*</span> <span class="comment-line">To</span> <span class="comment-line">change</span> <span class="comment-line">this</span> <span class="comment-line">license</span> <span class="comment-line">header</span><span class="comment-line">,</span> <span class="comment-line">choose</span> <span class="comment-line">License</span> <span class="comment-line">Headers</span> <span class="comment-line">in</span> <span class="comment-line">Project</span> <span class="comment-line">Properties.</span>
  3  <span class="comment-line">*</span> <span class="comment-line">To</span> <span class="comment-line">change</span> <span class="comment-line">this</span> <span class="comment-line">template</span> <span class="comment-line">file</span><span class="comment-line">,</span> <span class="comment-line">choose</span> <span class="comment-line">Tools</span> <span class="comment-line">|</span> <span class="comment-line">Templates</span>
  4  <span class="comment-line">*</span> <span class="comment-line">and</span> <span class="comment-line">open</span> <span class="comment-line">the</span> <span class="comment-line">template</span> <span class="comment-line">in</span> <span class="comment-line">the</span> <span class="comment-line">editor.</span>
  5  <span class="comment-line">*/</span>
  6 
  7 <span class="comment-line">/**</span>
  8  <span class="comment-line">*</span> <span class="ST1">@function</span> <span class="comment-line">[</span><span class="comment-line">datenuacao</span><span class="comment-line">]</span> <span class="comment-line">Calcula</span> <span class="comment-line">a</span> <span class="comment-line">distancia</span> <span class="comment-line">maxima</span> <span class="comment-line">devido</span> <span class="comment-line">atenuacao</span>
  9  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Pa</span> <span class="comment-line">potencia</span> <span class="comment-line">de</span> <span class="comment-line">entrada</span> <span class="comment-line">em</span> <span class="comment-line">dB</span>
 10  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">S</span> <span class="comment-line">sensibilidade</span> <span class="comment-line">do</span> <span class="comment-line">sensor</span> <span class="comment-line">em</span> <span class="comment-line">dB</span>
 11  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">alfa</span> <span class="comment-line">atenuacao</span> <span class="comment-line">em</span> <span class="comment-line">dB</span> <span class="comment-line">por</span> <span class="comment-line">km</span>
 12  <span class="comment-line">*</span> <span class="ST1">@returns</span> <span class="comment-line">distancia</span> <span class="comment-line">maxima</span> <span class="comment-line">em</span> <span class="comment-line">km</span>
 13  <span class="comment-line">*/</span>
 14 <span class="keyword">function</span> <span class="ST2">datenuacao</span>(Pa,S,alfa){
 15     <span class="keyword">return</span> (Pa-S)/alfa;
 16 }
 17 
 18 <span class="comment-line">/**</span>
 19  <span class="comment-line">*</span> <span class="ST1">@function</span> <span class="comment-line">[</span><span class="comment-line">Prr</span><span class="comment-line">]</span> <span class="comment-line">Calcula</span> <span class="comment-line">a</span> <span class="comment-line">distancia</span> <span class="comment-line">maxima</span> <span class="comment-line">devido</span> <span class="comment-line">dispersao</span>
 20  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Tx</span> <span class="comment-line">taxa</span> <span class="comment-line">de</span> <span class="comment-line">bits</span> <span class="comment-line">por</span> <span class="comment-line">segundo</span>
 21  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Brx</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">subida</span> <span class="comment-line">em</span> <span class="comment-line">MHz</span>
 22  <span class="comment-line">*</span> <span class="ST1">@constant</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">trx</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">subida</span> <span class="comment-line">em</span> <span class="comment-line">ns</span>
 23  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Dmodal</span> <span class="comment-line">dispersao</span> <span class="comment-line">modal</span> <span class="comment-line">em</span> <span class="comment-line">ns</span> <span class="comment-line">/</span> <span class="comment-line">km</span>
 24  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Dcrom</span> <span class="comment-line">dispersao</span> <span class="comment-line">cromatica</span> <span class="comment-line">em</span> <span class="comment-line">ns</span> <span class="comment-line">/</span> <span class="comment-line">nm</span> <span class="comment-line">km</span>
 25  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">deltal</span> <span class="comment-line">largura</span> <span class="comment-line">espectral</span> <span class="comment-line">do</span> <span class="comment-line">laser</span> <span class="comment-line">em</span> <span class="comment-line">nm</span>
 26  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">boolean</span><span class="comment-line">}</span> <span class="comment-line">singlemode</span> <span class="comment-line">verdadeiro</span> <span class="comment-line">se</span> <span class="comment-line">a</span> <span class="comment-line">fibra</span> <span class="comment-line">for</span> <span class="comment-line">singlemode</span>
 27  <span class="comment-line">*</span> <span class="ST1">@returns</span> <span class="comment-line">distancia</span> <span class="comment-line">maxima</span> <span class="comment-line">em</span> <span class="comment-line">km</span>
 28  <span class="comment-line">*/</span>
 29 <span class="keyword">function</span> <span class="ST2">ddisp</span>(Tx,Brx,Dmodal,Dcrom,deltal,singlemode){
 30     <span class="comment-line">/*</span><span class="comment-line">Calculo</span> <span class="comment-line">do</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">1</span> <span class="comment-line">bit</span><span class="comment-line">*/</span>
 31     <span class="ST3">Tbit</span> = 1/Tx;
 32     <span class="comment-line">/*</span><span class="comment-line">Calculo</span> <span class="comment-line">do</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">atraso</span> <span class="comment-line">do</span> <span class="comment-line">sistema</span>
 33      <span class="comment-line">*</span> <span class="comment-line">Admitindo</span> <span class="comment-line">no</span> <span class="comment-line">maximo</span> <span class="comment-line">um</span> <span class="comment-line">atraso</span> <span class="comment-line">de</span> <span class="comment-line">0.1</span> <span class="comment-line">do</span> <span class="comment-line">tempo</span> <span class="comment-line">do</span> <span class="comment-line">bit</span>
 34      <span class="comment-line">*</span> <span class="comment-line">calculado</span> <span class="comment-line">em</span> <span class="comment-line">nanosegundos</span><span class="comment-line">*/</span>
 35     <span class="ST3">tdisp</span> = 0.1*<span class="ST3">Tbit</span>*<span class="ST3">Math</span>.pow(10,9);
 36     <span class="comment-line">/*</span><span class="comment-line">Calculo</span> <span class="comment-line">do</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">subida</span><span class="comment-line">*/</span>
 37     <span class="ST3">trx</span> = 0.44/Brx;
 38     <span class="comment-line">/*</span><span class="comment-line">Transformando</span> <span class="comment-line">de</span> <span class="comment-line">microsegundo</span> <span class="comment-line">para</span> <span class="comment-line">nanosegundo</span><span class="comment-line">*/</span>
 39     <span class="ST3">trx</span> = <span class="ST3">trx</span>*1000;
 40     <span class="keyword">if</span> (singlemode){
 41         
 42         <span class="keyword">return</span> <span class="ST3">Math</span>.sqrt(<span class="ST3">Math</span>.pow(<span class="ST3">tdisp</span>,2) - <span class="ST3">Math</span>.pow(<span class="ST3">trx</span>,2))/(deltal*Dcrom);
 43         
 44     } 
 45     <span class="keyword">else</span>{
 46         <span class="keyword">return</span> <span class="ST3">Math</span>.sqrt(<span class="ST3">Math</span>.pow(<span class="ST3">tdisp</span>,2) - <span class="ST3">Math</span>.pow(<span class="ST3">trx</span>,2))/Dmodal;
 47     }
 48    
 49 }
 50 
 51 
 52 <span class="comment-line">/**</span>
 53  <span class="comment-line">*</span> <span class="ST1">@function</span> <span class="comment-line">[</span><span class="comment-line">dmax</span><span class="comment-line">]</span> <span class="comment-line">Calcula</span> <span class="comment-line">a</span> <span class="comment-line">distancia</span> <span class="comment-line">maxima</span>
 54  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Pa</span> <span class="comment-line">potencia</span> <span class="comment-line">de</span> <span class="comment-line">entrada</span> <span class="comment-line">em</span> <span class="comment-line">dB</span>
 55  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">S</span> <span class="comment-line">sensibilidade</span> <span class="comment-line">do</span> <span class="comment-line">sensor</span> <span class="comment-line">em</span> <span class="comment-line">dB</span>
 56  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">alfa</span> <span class="comment-line">atenuacao</span> <span class="comment-line">em</span> <span class="comment-line">dB</span> <span class="comment-line">por</span> <span class="comment-line">km</span>
 57  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Tx</span> <span class="comment-line">taxa</span> <span class="comment-line">de</span> <span class="comment-line">bits</span> <span class="comment-line">por</span> <span class="comment-line">segundo</span>
 58  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Brx</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">subida</span> <span class="comment-line">em</span> <span class="comment-line">MHz</span>
 59  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Dmodal</span> <span class="comment-line">dispersao</span> <span class="comment-line">modal</span> <span class="comment-line">em</span> <span class="comment-line">ns</span> <span class="comment-line">/</span> <span class="comment-line">km</span>
 60  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Dcrom</span> <span class="comment-line">dispersao</span> <span class="comment-line">cromatica</span> <span class="comment-line">em</span> <span class="comment-line">ns</span> <span class="comment-line">/</span> <span class="comment-line">nm</span> <span class="comment-line">km</span>
 61  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">deltal</span> <span class="comment-line">largura</span> <span class="comment-line">espectral</span> <span class="comment-line">do</span> <span class="comment-line">laser</span> <span class="comment-line">em</span> <span class="comment-line">nm</span>
 62  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">boolean</span><span class="comment-line">}</span> <span class="comment-line">singlemode</span> <span class="comment-line">verdadeiro</span> <span class="comment-line">se</span> <span class="comment-line">a</span> <span class="comment-line">fibra</span> <span class="comment-line">for</span> <span class="comment-line">singlemode</span>
 63  <span class="comment-line">*</span> <span class="ST1">@returns</span> <span class="comment-line">distancia</span> <span class="comment-line">maxima</span> <span class="comment-line">em</span> <span class="comment-line">km</span>
 64  <span class="comment-line">*/</span>
 65 <span class="keyword">function</span> <span class="ST2">dmax</span>(Pa,S,alfa,Tx,Brx,Dmodal,Dcrom,deltal,singlemode){
 66     <span class="comment-line">/*</span><span class="comment-line">calculo</span> <span class="comment-line">da</span> <span class="comment-line">distancia</span> <span class="comment-line">maxima</span>
 67      <span class="comment-line">*</span> <span class="comment-line">considerando</span> <span class="comment-line">balanco</span> <span class="comment-line">de</span> <span class="comment-line">potencia</span><span class="comment-line">*/</span>
 68     <span class="ST3">distA</span> = datenuacao(Pa,S,alfa);
 69     <span class="comment-line">/*</span><span class="comment-line">calculo</span> <span class="comment-line">da</span> <span class="comment-line">distancia</span> <span class="comment-line">maxima</span>
 70      <span class="comment-line">*</span> <span class="comment-line">considerando</span> <span class="comment-line">balanco</span> <span class="comment-line">de</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">atraso</span><span class="comment-line">*/</span>
 71     <span class="ST3">distD</span> = ddisp(Tx,Brx,Dmodal,Dcrom,deltal,singlemode);
 72     <span class="keyword">if</span> (<span class="ST3">distA</span> &gt; <span class="ST3">distD</span> || isNaN(<span class="ST3">distD</span>)){
 73         <span class="keyword">return</span> <span class="ST3">distD</span>;
 74     }
 75     <span class="keyword">return</span> <span class="ST3">distA</span>;
 76 }
 77 
 78 <span class="comment-line">/**</span>
 79  <span class="comment-line">*</span> <span class="ST1">@function</span> <span class="comment-line">[</span><span class="comment-line">TxT</span><span class="comment-line">]</span> <span class="comment-line">Calcula</span> <span class="comment-line">a</span> <span class="comment-line">taxa</span> <span class="comment-line">de</span> <span class="comment-line">trasmissao</span> <span class="comment-line">em</span> <span class="comment-line">Megabits</span> <span class="comment-line">por</span> <span class="comment-line">segundo</span>
 80  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">d</span> <span class="comment-line">distancia</span> <span class="comment-line">em</span> <span class="comment-line">km</span>
 81  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Brx</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">subida</span> <span class="comment-line">em</span> <span class="comment-line">MHz</span>
 82  <span class="comment-line">*</span> <span class="ST1">@constant</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">trx</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">subida</span> <span class="comment-line">em</span> <span class="comment-line">ns</span>
 83  <span class="comment-line">*</span> <span class="ST1">@constant</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">tdisp</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">atraso</span> <span class="comment-line">por</span> <span class="comment-line">dispersao</span> <span class="comment-line">em</span> <span class="comment-line">ns</span>
 84  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Dmodal</span> <span class="comment-line">dispersao</span> <span class="comment-line">modal</span> <span class="comment-line">em</span> <span class="comment-line">ns</span> <span class="comment-line">/</span> <span class="comment-line">km</span>
 85  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">Dcrom</span> <span class="comment-line">dispersao</span> <span class="comment-line">cromatica</span> <span class="comment-line">em</span> <span class="comment-line">ns</span> <span class="comment-line">/</span> <span class="comment-line">nm</span> <span class="comment-line">km</span>
 86  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">number</span><span class="comment-line">}</span> <span class="comment-line">deltal</span> <span class="comment-line">largura</span> <span class="comment-line">espectral</span> <span class="comment-line">do</span> <span class="comment-line">laser</span> <span class="comment-line">em</span> <span class="comment-line">nm</span>
 87  <span class="comment-line">*</span> <span class="ST1">@param</span> <span class="comment-line">{</span><span class="comment-line">boolean</span><span class="comment-line">}</span> <span class="comment-line">singlemode</span> <span class="comment-line">verdadeiro</span> <span class="comment-line">se</span> <span class="comment-line">a</span> <span class="comment-line">fibra</span> <span class="comment-line">for</span> <span class="comment-line">singlemode</span>
 88  <span class="comment-line">*</span> <span class="ST1">@returns</span> <span class="comment-line">Taxa</span> <span class="comment-line">de</span> <span class="comment-line">trasmissao</span> <span class="comment-line">em</span> <span class="comment-line">Megabits</span> <span class="comment-line">por</span> <span class="comment-line">segundo</span>
 89  <span class="comment-line">*/</span>
 90 <span class="keyword">function</span> <span class="ST2">TxT</span>(d,Brx,Dmodal,Dcrom,deltal,singlemode){
 91     
 92     <span class="comment-line">/*</span><span class="comment-line">Calculo</span> <span class="comment-line">do</span> <span class="comment-line">tempo</span> <span class="comment-line">de</span> <span class="comment-line">subida</span><span class="comment-line">*/</span>
 93     <span class="ST3">trx</span> = 0.44/Brx;
 94     <span class="comment-line">/*</span><span class="comment-line">Transformando</span> <span class="comment-line">de</span> <span class="comment-line">microsegundo</span> <span class="comment-line">para</span> <span class="comment-line">nanosegundo</span><span class="comment-line">*/</span>
 95     <span class="ST3">trx</span> = <span class="ST3">trx</span>*1000;
 96     <span class="keyword">if</span> (singlemode){
 97         
 98         <span class="ST3">tdisp</span> = d*deltal*Dcrom;
 99         <span class="keyword">return</span> 100/<span class="ST3">Math</span>.sqrt(<span class="ST3">Math</span>.pow(<span class="ST3">tdisp</span>,2) + <span class="ST3">Math</span>.pow(<span class="ST3">trx</span>,2));
100         
101     } 
102     <span class="keyword">else</span>{
103         
104         <span class="ST3">tdisp</span> = d*Dmodal;
105         <span class="keyword">return</span> 100/<span class="ST3">Math</span>.sqrt(<span class="ST3">Math</span>.pow(<span class="ST3">tdisp</span>,2) + <span class="ST3">Math</span>.pow(<span class="ST3">trx</span>,2));
106     }
107    
108 }
109 
</pre></body>
</html>
